<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<style>
			.header{
				font-size: 25px;text-align: center;padding: 20px;
			}
		</style>
	</head>
	<body>
		<div id="app" @click="findXY($event)">
			<div class="header">
				<span>请在100秒内从右边图中找出（{{num}} / 4）处不同</span>
				<p>时间剩余{{time}}秒</p>
			</div>
			<div class="imgs">
				<img src="./img/test.jpg" width="1000" height="500" />
			</div>
		</div>
		<script>
			new Vue({
				el: '#app',
				data() {
					return {
						num: 4,
						time: 60,
						list:[ //存放点（矩形范围）
							{
								xmin:691,
								xmax:714,
								ymin:314,
								ymax:360,
								find:false//判断是否已被点击
							},
							{
								xmin:594,
								xmax:633,
								ymin:307,
								ymax:353,
								find:false
							},
							{
								xmin:680,
								xmax:694,
								ymin:574,
								ymax:592,
								find:false
							},
							{
								xmin: 694,
								xmax: 733,
								ymin: 601,
								ymax: 647,
								find:false
							}
						]
					}
				},
				methods: {
					findXY(event) {
						x = event.clientX
						y = event.clientY
						console.log(x,y);
						this.list.forEach(e => {
							if (x > e.xmin && x < e.xmax && y > e.ymin && y < e.ymax && !e.find){
								this.num = this.num - 1
								e.find = true //找到的就置true，再次点击就没有反应
								alert("恭喜你找到一处，还剩" + this.num + "处")
								if(this.num === 0){
									alert("恭喜你，通关了！")
									location.reload()
								}
							}
						});
					},
					
				},
				created() {
					alert("找茬游戏开始")
					let timer = setInterval(() => {	//计时			
						if (this.time === 0) {
					        clearInterval(timer)
							alert("时间到，游戏结束，请重新开始！")
							location.reload()
					    }
					    this.time--
					}, 1000)
				}
			})
		</script>
	</body>
</html>
